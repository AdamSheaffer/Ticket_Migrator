{% extends "../layout.html" %} {% load static %} {% block content %}

<link href="{% static '/migrator_app/css/modal.css' %}" rel='stylesheet' type='text/css' />

<!--  -->
<br>
<div>
    <article>
        <p>Create a New Sprint :</p>
        <p>Select a source repository to pull issues from</p>
        <hr>
        <select id="repo_selector">
            {% for choice in choices %}
            <option value={{choice.0}}>{{choice.1}}</option>
            {% endfor %}
        </select>
        <button onclick="window.location.href=repo_selector.value">Select</button>
    </article>
</div>
<div>
    <article>
        <p>Saved Sprints</p>
        <hr>
        <ul>
            {% for sprint in sprints %}
            <li class="sprint_list">
                <span class="sr-{{sprint.id}}">{{ sprint.name }}</span>
                <span>
                    <span> | </span>
                    <a href="./migrate/{{sprint.id}}">Migrate</a>
                    <span> | </span>
                    <a href="./details/{{sprint.id}}">Details</a>
                    <span> | </span>
                    <a id="{{sprint.id}}" class="_delete" href="#">Delete</a>
                </span>
            </li>
            {% endfor %}
        </ul>
    </article>
</div>
<div class="modal">
    <div class="modal-content">
        <div class="box has-background-dark has-text-white has-text-centered">
            <h2 class="is-size-1-desktop">Confirm Delete</h2>
            <h2 class="is-size-5-desktop">
                <span id="sprint_url"></span>
            </h2>
            <br>
            <a href="./delete_sprint/" id="confirm" class="button modal-button">
                <button>Confirm</button>
            </a>
            <button id="cancel" class="hide_modal_button">Cancel</button>
        </div>
    </div>
    <button class="close hide_modal_button" aria-label="close">X</button>
</div>

<script src="{% static '/migrator_app/js/delete_modal.js' %}"></script> {% endblock %}